# GA-Based Multi-Agent Optimal Path Planning for Intra-Hospital Transport

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.8%2B-blue)

This repository contains the official implementation of the paper **"GA-Based Multi-Agent Optimal Path Planning for Intra-Hospital Transport"**.

We propose a robust **Evolutionary Computation (EC)** framework to solve the Multi-Agent Optimal Path Planning (MAOPP) problem in complex hospital environments. The system optimizes routes for multiple Autonomous Mobile Robots (AMRs), minimizing travel distance while ensuring strict safety constraints and collision avoidance.

---

## üöÄ Key Features

- **Realistic Environment**: Experiments conducted on a digitized floor plan of a real hospital facility.
- **Multi-Objective Optimization**: Implementation of **NSGA-II** to balance operational efficiency (Travel Distance) against safety (Risk/Penalties).
- **Algorithmic Benchmark**: Comprehensive comparison of standard optimization techniques:
  - Genetic Algorithm (**GA**)
  - Evolution Strategy (**Œº+Œª ES**)
  - Simulated Annealing (**SA**)
  - **NSGA-II** (Multi-Objective)
- **Conflict Management**: Advanced temporal conflict detection and penalty mechanisms for safe multi-agent coordination.

---

## üõ†Ô∏è Installation & Setup

To reproduce the experiments, ensure you have **Python 3.8+** installed.

1. **Clone the repository:**
   ```bash
   git clone https://github.com/your-username/GA-Hospital-Path-Planning.git
   cd GA-Hospital-Path-Planning
   ```

2. **Install dependencies:**
   It is recommended to use a virtual environment.
   ```bash
   pip install -r requirements.txt
   ```

---

## üíª Usage

### 1. Running the Benchmark (Reproducibility)
To generate the convergence plots and statistical comparisons presented in the paper, run the main Jupyter Notebook:

```bash
jupyter notebook convergence.ipynb
```
This notebook will:
- Load the pre-trained results from the `hyperparametrization/results/` database.
- Execute the best configurations for GA, ES, and SA.
- Plot the convergence curves and Pareto fronts.
- specific tables containing hyperparameter values and final metrics.

### 2. Running Individual Algorithms
You can run specific algorithms directly from the command line to see them in action. Parameters can be adjusted in the script or via arguments (if implemented).

```bash
# Run Genetic Algorithm
python -m algorithms.ga_runner

# Run Evolution Strategy
python -m algorithms.mulambda_runner
```

---

## üìä Results Summary

### Single-Objective Performace (Minimizing Cost)

The **(Œº+Œª) Evolution Strategy** demonstrated superior convergence speed and solution quality for single-objective optimization (Penalized Distance).

| Algorithm | Best Result | Metric | Seed |
| :--- | :--- | :--- | :--- |
| **(Œº+Œª) ES** | **1104.66** | Min Cost | 0 |
| **GA** | **1184.63** | Min Cost | 1 |
| **SA** | **1989.32** | Min Cost | 2 |

### Multi-Objective Fields (NSGA-II)

NSGA-II successfully identified a diverse set of Pareto-optimal solutions, allowing trade-offs between maximizing safety (Clean Distance) and minimizing total cost (including penalties).

<div align="center">
  <img src="figures/fig_nsga2_pareto.png" alt="NSGA-II Pareto Front" width="600px">
  <p><em>Pareto Front: Trade-off between Safety and Efficiency</em></p>
</div>

### Optimized Routes Visualization

Below is an example of conflict-free routes generated for 4 agents in the hospital environment.

<div align="center">
  <img src="figures/Routes_multiobjective_comparison_10_1000_06_04_s42.png" alt="Optimized Routes" width="700px">
</div>

---

## üìÇ Project Structure

```
.
‚îú‚îÄ‚îÄ algorithms/                 # Source code for GA, ES, SA, and NSGA-II
‚îú‚îÄ‚îÄ data/                       # Hospital maps and configuration files
‚îú‚îÄ‚îÄ figures/                    # Plots and visualizations generated by scripts
‚îú‚îÄ‚îÄ hyperparametrization/       # Grid search scripts and SQLite result databases
‚îú‚îÄ‚îÄ convergence.ipynb           # Main notebook for analysis and plotting
‚îú‚îÄ‚îÄ requirements.txt            # Python dependencies
‚îî‚îÄ‚îÄ README.md                   # Project documentation
```

---

## üìÑ Citation

If you use this code or methodology in your research, please cite our paper:

```bibtex
@article{dma_cgs_2025,
  title={GA-Based Multi-Agent Optimal Path Planning for Intra-Hospital Transport},
  author={Amezcua, David Moreda and Guti√©rrez Silva, Carmen},
  journal={IEEE Access},
  year={2025},
  volume={XX},
  number={XX},
  pages={XXXX-XXXX}
}
```

---

**Authors:** David Moreda Amezcua & Carmen Guti√©rrez Silva
